import{d as e,c as t,a as n,t as s,C as r,b as o,o as l,u as a,r as i,w as c,e as u,F as d,f as h,g as m,h as p,i as f,j as g,k as w,l as x,_ as P,m as E,n as _,p as b,q as v,s as y,v as L,x as I,y as k,z as N,A as O,B as M,D as A,E as T,G as D}from"./vendor.59486093.js";import{_ as j,r as U,a as C}from"./index.a0ab63f0.js";const R=e({props:{userName:String,spaceUrl:String},setup:(e,t)=>(a(),{ToSpace:function(){},Exit:function(){r.remove("em_token"),window.location="/login.html"}})}),S={class:"w-full h-24 py-1.5 md:px-24 stick flex justify-between shadow z-50"},V=n("div",{class:"flex items-center"},[n("img",{class:"w-10 h-10 md:w-20 md:h-20 inline-block",src:j,alt:"EM管理系统"}),n("span",{class:"bg-color-gradient text-transparent bg-clip-text md:text-4xl text-2xl ml-5 leading-none"},"EM管理系统")],-1),B={class:"h-full flex items-center justify-around space-x-8"},q={class:"text-lg text-blue-500 cursor-pointer tracking-xs"},z=n("i",{class:"el-icon-user"},null,-1),F=o(" 个人中心 "),$=n("i",{class:"el-icon-switch-button"},null,-1),G=o(" 退 出 ");R.render=function(e,r,o,a,i,c){return l(),t("div",S,[V,n("div",B,[n("span",q,s(e.userName),1),n("button",{class:"btn bg-blue-400 ring-blue-400",type:"button",onClick:r[1]||(r[1]=(...t)=>e.ToSpace&&e.ToSpace(...t))},[z,F]),n("button",{class:"btn bg-red-400 ring-red-400 px-3",type:"button",onClick:r[2]||(r[2]=(...t)=>e.Exit&&e.Exit(...t))},[$,G])])])};const W=e({props:{MenuList:{type:Array,default:[]}},setup:(e,t)=>({activeNames:i(Array())})}),H={class:"w-48 overflow-hidden border-r bg-blue-50"};function J(e){return e.forEach((e=>{null!=e.children&&e.children.length>0&&(J(e.children),e.children.sort(((e,t)=>e.PowerOrder-t.PowerOrder)))})),e.sort(((e,t)=>e.PowerOrder-t.PowerOrder)),e}function K(e){var t=[];return e.forEach((n=>{3===n.PowerId.length&&(n.children=[],e.forEach((t=>{t.MotherId===n.PowerId&&(t.children=[],e.forEach((e=>{e.MotherId===t.PowerId&&t.children.push(e)})),n.children.push(t))})),t.push(n))})),J(t)}function Q(e){var t=[];return e.forEach((e=>{3===e.length&&-1===t.indexOf(e)&&t.push(e)})),e.forEach((e=>{6===e.length&&-1===t.indexOf(e.slice(0,3))&&-1===t.indexOf(e)&&t.push(e)})),e.forEach((e=>{9===e.length&&-1===t.indexOf(e.slice(0,3))&&-1===t.indexOf(e.slice(0,6))&&-1===t.indexOf(e)&&t.push(e)})),t}W.render=function(e,n,r,a,i,m){const p=u("el-menu-item"),f=u("el-submenu"),g=u("el-menu"),w=u("el-empty");return l(),t("div",H,[null!=e.MenuList&&e.MenuList.length>0?(l(),t(g,{key:0,"default-active":"","background-color":"#ffffff","text-color":"#000000","active-text-color":"#60A5FA",router:!0,class:"shadow"},{default:c((()=>[(l(!0),t(d,null,h(e.MenuList,(e=>(l(),t(d,{key:e.PowerId},[null==e.children||e.children.length<1?(l(),t(p,{key:0,index:e.PowerPage,title:e.PowerName},{title:c((()=>[o(s(e.PowerName),1)])),_:2},1032,["index","title"])):(l(),t(f,{key:1,index:e.PowerPage,title:e.PowerName},{title:c((()=>[o(s(e.PowerName),1)])),default:c((()=>[(l(!0),t(d,null,h(e.children,(e=>(l(),t(p,{key:e.PowerId,index:e.PowerPage,title:e.PowerName},{title:c((()=>[o(s(e.PowerName),1)])),_:2},1032,["index","title"])))),128))])),_:2},1032,["index","title"]))],64)))),128))])),_:1})):(l(),t(w,{key:1,description:"暂无数据"}))])};const X=e({components:{NavMenu:R,SideBarMenu:W},setup(){const e=i([]),t=i("999"),n=a();f();const s=m((()=>{for(let n=0;n<e.value.length;n++)if(e.value[n].PowerId===t.value)return e.value[n].children;return null})),r=p({UserId:void 0,UserName:""});return{powerList:e,activeName:t,subMenuList:s,state:r,clickTab:function(s){t.value=s.props.name,n.push(function(e,t){var n=null;return 3===e.length?t.forEach((t=>{t.PowerId===e&&(n=t)})):6===e.length?t.forEach((t=>{null!=t.children&&t.children.length>0&&t.children.forEach((t=>{t.PowerId===e&&(n=t)}))})):9===e.length&&(console.log(3),t.forEach((t=>{null!=t.children&&t.children.length>0&&t.children.forEach((t=>{null!=t.children&&t.children.length>0&&t.children.forEach((t=>{t.PowerId===e&&(n=t)}))}))}))),n}(s.props.name,e.value).PowerPage)}}},beforeMount(){r.get("em_token")?U({url:C.isLogin.url,method:C.isLogin.method}).then((e=>{e.Data.IsLogin?(this.state.UserId=e.Data.UserId,this.state.UserName=e.Data.UserName,U({url:C.getAllPower.url.replace("{id}",this.state.UserId),method:C.getAllPower.method}).then((e=>{200===e.Code&&(this.powerList=K(e.Data))})).catch((e=>{console.log(e)}))):window.location="login.html"})).catch((e=>{console.log(e)})):window.location="login.html"}}),Y={class:"h-screen flex flex-col"},Z={class:"flex-1 flex flex-col"},ee={class:"flex-1 flex"},te={class:"flex-1 overflow-hidden"};let ne;X.render=function(e,s,r,o,a,i){const m=u("nav-menu"),p=u("el-tab-pane"),f=u("el-tabs"),g=u("side-bar-menu"),w=u("router-view");return l(),t("div",Y,[n(m,{userName:e.state.UserName},null,8,["userName"]),n("div",Z,[n(f,{"model-value":e.activeName,type:"card",onTabClick:e.clickTab},{default:c((()=>[(l(!0),t(d,null,h(e.powerList,(e=>(l(),t(p,{key:e.PowerId,label:e.PowerName,name:e.PowerId},null,8,["label","name"])))),128))])),_:1},8,["model-value","onTabClick"]),n("div",ee,[n(g,{MenuList:e.subMenuList,ref:"sideBar"},null,8,["MenuList"]),n("div",te,[n(w)])])])])};const se={},re=function(e,t){if(!t)return e();if(void 0===ne){const e=document.createElement("link").relList;ne=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in se)return;se[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":ne,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))},oe=()=>re((()=>import("./EmptyPage.1031a421.js")),["/assets/EmptyPage.1031a421.js","/assets/EmptyPage.8513bbb9.css","/assets/vendor.59486093.js"]),le=[{path:"",component:oe},{path:"/system",component:oe},{path:"/log",component:oe,alias:"/system/log"},{path:"/department",component:()=>re((()=>import("./DepartmentPage.8cd8a3ca.js")),["/assets/DepartmentPage.8cd8a3ca.js","/assets/EmptyPage.8513bbb9.css","/assets/vendor.59486093.js","/assets/index.a0ab63f0.js","/assets/index.780dfa06.css"]),alias:"/system/department"},{path:"/role",component:()=>re((()=>import("./RolePage.21622f49.js")),["/assets/RolePage.21622f49.js","/assets/EmptyPage.8513bbb9.css","/assets/vendor.59486093.js","/assets/index.a0ab63f0.js","/assets/index.780dfa06.css"]),alias:"/system/role"},{path:"/user",component:()=>re((()=>import("./UserPage.94cc45ce.js")),["/assets/UserPage.94cc45ce.js","/assets/EmptyPage.8513bbb9.css","/assets/vendor.59486093.js","/assets/index.a0ab63f0.js","/assets/index.780dfa06.css"]),alias:"/system/user"},{path:"/action",component:()=>re((()=>import("./ActionLogPage.46540fd0.js")),["/assets/ActionLogPage.46540fd0.js","/assets/EmptyPage.8513bbb9.css"]),alias:["/system/log/action","/system/action"]},{path:"/exception",component:()=>re((()=>import("./ExceptionLogPage.f84fe7f7.js")),["/assets/ExceptionLogPage.f84fe7f7.js","/assets/EmptyPage.8513bbb9.css"]),alias:["/system/log/exception","/system/exception"]},{path:"/test",component:oe},{path:"/login",beforeEnter:(e,t)=>(window.location="/login.html",!1)},{path:"/space",beforeEnter:(e,t)=>(window.location="/space.html",!1)}],ae=g({history:w("/"),routes:le});const ie=x(X);ie.use(ae),ie.use(P),ie.use(E),ie.use(_),ie.use(b),ie.use(v),ie.use(y),ie.use(L),ie.use(I),ie.use(k),ie.use(N),ie.use(O),ie.use(M),ie.use(A),ie.use(T),ie.use(D),ie.mount("#app");export{Q as s};
